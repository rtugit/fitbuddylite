<%= form_with model: [@workout_plan, @workout_exercise], local: true do |f| %>
  <div class="mb-3">
    <%= f.label :step_order, class: "form-label" %>
    <%= f.number_field :step_order, class: "form-control", min: 1 %>
  </div>

  <div class="mb-3">
    <%= f.label :name, class: "form-label" %>
    <%= f.text_field :name, class: "form-control", required: true %>
  </div>

  <div class="mb-3">
    <%= f.label :description, class: "form-label" %>
    <%= f.text_area :description, class: "form-control", rows: 4 %>
  </div>

  <div class="row">
    <div class="col-md-6 mb-3">
      <%= f.label :reps_or_duration, "Reps / Duration", class: "form-label" %>
      <%= f.text_field :reps_or_duration, class: "form-control" %>
    </div>
    <div class="col-md-6 mb-3">
      <%= f.label :rest_seconds, class: "form-label" %>
      <%= f.number_field :rest_seconds, class: "form-control", min: 0 %>
    </div>
  </div>

  <%# AI assist checkbox only on edit (to help refine an existing exercise) %>
  <% if action_name == "edit" %>
    <div class="form-check mb-3">
      <%= check_box_tag :ai_assist, "1", false, class: "form-check-input", id: "ai_assist" %>
      <%= label_tag :ai_assist, "Ask AI to suggest improvements", class: "form-check-label" %>
    </div>
  <% end %>

  <div class="d-flex justify-content-end">
    <%= f.submit class: "btn btn-primary me-2" %>
    <%= link_to "Cancel", workout_plan_path(@workout_plan), class: "btn btn-outline-secondary" %>
  </div>
<% end %>
